# Kiro Gateway - Rust Configuration Example
# Copy this file to .env and configure your settings

# ==================================================================================================
# Server Settings
# ==================================================================================================

# Server host (default: 0.0.0.0 - listen on all interfaces)
# Use "127.0.0.1" to only allow local connections
SERVER_HOST=0.0.0.0

# Server port (default: 8000)
SERVER_PORT=8000

# ==================================================================================================
# Proxy API Key (REQUIRED)
# ==================================================================================================

# Password to protect YOUR proxy server
# Clients must provide this in the Authorization header
# Make this a strong, unique password!
PROXY_API_KEY=my-super-secret-password-123

# ==================================================================================================
# Kiro CLI SQLite Database (REQUIRED)
# ==================================================================================================

# Path to kiro-cli SQLite database (for AWS IAM Identity Center users)
# The gateway will auto-detect AWS SSO OIDC and use the correct endpoint
# 
# Common locations:
# - macOS: ~/Library/Application Support/kiro-cli/data.sqlite3
# - Linux: ~/.local/share/kiro-cli/data.sqlite3
# - Windows: %APPDATA%\kiro-cli\data.sqlite3
KIRO_CLI_DB_FILE=~/.local/share/kiro-cli/data.sqlite3

# ==================================================================================================
# Optional Settings
# ==================================================================================================

# AWS region (default: us-east-1)
KIRO_REGION=us-east-1

# Streaming read timeout in seconds (default: 300)
STREAMING_READ_TIMEOUT=300

# Token refresh threshold in seconds (default: 300)
# Refresh token this many seconds before expiration
TOKEN_REFRESH_THRESHOLD=300

# First token timeout in seconds (default: 15)
# Cancel and retry if first token not received within this time
FIRST_TOKEN_TIMEOUT=15

# Debug logging mode (default: off)
# Options: off, errors, all
# - off: No debug logging
# - errors: Log only failed requests (4xx, 5xx)
# - all: Log every request (overwrites on each request)
DEBUG_MODE=off

# Log level (default: info)
# Options: trace, debug, info, warn, error
LOG_LEVEL=info

# ==================================================================================================
# HTTP Client Settings
# ==================================================================================================

# Maximum connections per host (default: 20)
HTTP_MAX_CONNECTIONS=20

# Connection timeout in seconds (default: 30)
HTTP_CONNECT_TIMEOUT=30

# Request timeout in seconds (default: 300)
HTTP_REQUEST_TIMEOUT=300

# Maximum retry attempts (default: 3)
HTTP_MAX_RETRIES=3

# ==================================================================================================
# Converter Settings (Advanced)
# ==================================================================================================

# Maximum length for tool descriptions before moving to system prompt (default: 10000)
TOOL_DESCRIPTION_MAX_LENGTH=10000

# Enable fake reasoning content for models that don't support it (default: false)
FAKE_REASONING_ENABLED=false

# Maximum tokens for fake reasoning content (default: 10000)
FAKE_REASONING_MAX_TOKENS=10000
